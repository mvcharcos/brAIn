<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive System</title>
    <script>
        async function updateEnvironment() {
            const lamp1 = document.getElementById("lamp1").value;
            const lamp2 = document.getElementById("lamp2").value;
            const lux = document.getElementById("lux").value;
            const consumption1 = document.getElementById("consumption1").value;
            const consumption2 = document.getElementById("consumption2").value;

            const response = await fetch('/environment', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ lamp1, lamp2, lux, consumption1, consumption2 })
            });

            const data = await response.json();
            document.getElementById("state").textContent = JSON.stringify(data);
        }
    </script>
</head>
<body>
    <h1>Interactive System</h1>

    <div>
        <h2>Environment</h2>
        <label>Lamp 1:</label>
        <select id="lamp1">
            <option value="on">On</option>
            <option value="off" selected>Off</option>
        </select>
        <br>
        <label>Lamp 2:</label>
        <select id="lamp2">
            <option value="on">On</option>
            <option value="off" selected>Off</option>
        </select>
        <br>
        <label>Lux:</label>
        <input type="number" id="lux" value="0">
        <br>
        <label>Consumption 1:</label>
        <input type="number" id="consumption1" value="0">
        <br>
        <label>Consumption 2:</label>
        <input type="number" id="consumption2" value="0">
        <br>
        <button onclick="updateEnvironment()">Update Environment</button>
    </div>

    <div>
        <h2>State</h2>
        <p id="state"></p>
    </div>
</body>
</html>
